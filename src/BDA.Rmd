---
title: "BDA"
author: "Julian Frattini, Andreas Bauer"
output: html_document
date: "2023-06-21"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Data

```{r load-data}
df_raw <- read.csv(file = '../data/results.csv', header = TRUE, sep = ',')
```

### Cleanup and transform data

Data structure
- `id`: Participant id {integer}
- `tc`: Test case id {TC1..TC8}
- `tc_size`: Size of test case. `TRUE` for bigger and `FALSE` for smaller test cases
- `treatment`: `TRUE` for Augmented Testing and `FALSE` for manual GUI testing (baseline)
- `duration`: Duration of performing test case in seconds {integer}

```{r pivot}
df <- df_raw %>% 
  pivot_longer(
    cols = c(matches("TC._treatment"), matches("TC._seconds$")),
    names_to = c("tc", ".value"), names_pattern = "TC(.)_(.*)"
  ) %>% 
  select("ID", "tc", "treatment", "seconds") %>% 
  mutate(
    treatment = (treatment == "A"),
    tc_big = (tc %in% c(3, 4, 7, 8))
  )

head(df)
```

Next, normalize the duration values: scale the duration to an interval of size 1 centered around the mean value of each test case.

```{r scale}
df <- df %>% 
  group_by(tc) %>% 
  mutate(
    duration_scaled = (mean(seconds)-seconds)/(max(seconds)-min(seconds))
  )
```

